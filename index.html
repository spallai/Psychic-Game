<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Psychic Game</title>
</head>

<body>
    <h1>The Psychic Game</h1>
    <div id="game">
        Guess what letter I'm thinking of
        <br>
        <br>
        Wins: <span id="wins">0</span>
        <br>
        <br>
        Losses: <span id="losses">0</span>
        <br>
        <br>
        Guesses left: <span id="guesses-left">10</span>
        <br>
        <br>
        Your guesses so far: <span id="user-guess"></span>
    </div>

    <script>
        var computerChoices = ["r", "p", "s"];
        var wins = 0;
        var losses = 0;
        var guessesleft = 10;
        var computerSelection = computerChoices[Math.floor(Math.random() * computerChoices.length)];
        console.log("Computer chose " + computerSelection);

        document.onkeyup = function (event) {

            var userGuess = event.key;

            if (userGuess === computerSelection) {
                wins++;
                document.getElementById("wins").textContent = wins;
                reset();
            }
            else if (guessesleft > 1) {
                guessesleft--;
                document.getElementById("guesses-left").textContent = guessesleft;
                console.log("You have this many guesses left " + guessesleft);
                document.getElementById("user-guess").textContent += " " + userGuess;
            }
            else {
                losses++;
                document.getElementById("losses").textContent = losses;
                reset();
            }
            
            function reset () {
                guessesleft = 10;
                computerSelection = computerChoices[Math.floor(Math.random() * computerChoices.length)];
                console.log("Computer chose " + computerSelection);
                document.getElementById("user-guess").textContent = "";
                document.getElementById("guesses-left").textContent = guessesleft;
            }
        };


    </script>
</body>

</html>